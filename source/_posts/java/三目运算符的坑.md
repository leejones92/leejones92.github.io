---
title: ä¸‰ç›®è¿ç®—ç¬¦çš„å‘
date: 2019-02-15 11:30:07
tags:
- å‘
categories:
- java
---

ä¸‰ç›®è¿ç®—ç¬¦ä¸­çš„å‘ä¸å®¹æ˜“å‘ç°,çœ‹ä¸€æ®µä»£ç 
```
public class Test {
    public static void main(String[] args) {
        Long test = null;
        Long a =  2 > 1 ? test  : 0L;
    }
}
```
> Exception in thread "main" java.lang.NullPointerException
  	at Test.main(Test.java:11)

æŠ¥çš„NPE,è¿™ä¸ªåœ°æ–¹æŠ¥NPE,ç€å®æƒ³ä¸åˆ°,åªèƒ½çœ‹ä¸‹å­—èŠ‚ç 
```
javap -v Test.class > output.txt
```
ç»“æœæ˜¯è¿™æ ·çš„
```
 public static void main(java.lang.String[]);
    descriptor: ([Ljava/lang/String;)V
    flags: ACC_PUBLIC, ACC_STATIC
    Code:
      stack=2, locals=3, args_size=1
         0: aconst_null
         1: astore_1
         2: aload_1
         3: invokevirtual #2                  // Method java/lang/Long.longValue:()J
         6: invokestatic  #3                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
         9: astore_2
        10: return
      LineNumberTable:
        line 10: 0
        line 11: 2
        line 12: 10
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0      11     0  args   [Ljava/lang/String;
            2       9     1  test   Ljava/lang/Long;
           10       1     2     a   Ljava/lang/Long;
```
ç»è¿‡è‡ªåŠ¨çš„æ‹†ç®±å’Œè£…ç®±,è‡³äºä¸ºä½•è¦ç»è¿‡è¿™ä¹ˆä¸€æ­¥å¤„ç† @Sun @Oracle ğŸ˜‚